#ifndef INSTRUCTIONS_H
#define INSTRUCTIONS_H

#define MAX_OPCODE_INSTRUCTIONS 0xff+1

/**
 * Tracks characteristics of opcodes on 8080 processor
 *
 * @param menomnic Assembly instructions "MOV"
 * @param bytes  Num of bytes opcode takes, 1-3
 * @param cycles Cycles opcode takes, 5
 * @param max_cycles Max # cycles opcode takes, 11
 * @param flag Tracks opcode flags, 0x00
 */
typedef struct {
    const char *mnemonic;
    unsigned bytes;
    unsigned cycles;
    unsigned max_cycles;
    unsigned flags;
} Instruction;

Instruction disassembler_instruction_table[MAX_OPCODE_INSTRUCTIONS] = {
    // 0x00
    {"NOP", 1, 4, 0, 0x00},
    {"LXI B,d16", 3, 10, 0, 0x00},
    {"STAX B", 1, 7, 0, 0x00},
    {"INX B", 1, 5, 0, 0x00},
    {"INR B", 1, 5, 0, 0x1e},
    {"DCR B", 1, 5, 0, 0x1e},
    {"MVI B, d8", 2, 7, 0, 0x00},
    {"RLC", 1, 4, 0, 0x01},
    {"NOP", 1, 4, 0, 0x00},
    {"DAD B", 1, 10, 0, 0x01},
    {"LDAX B", 1, 7, 0, 0x00},
    {"DCX B", 1, 5, 0, 0x00},
    {"INR C", 1, 5, 0, 0x1e},
    {"DCR C", 1, 5, 0, 0x1e},
    {"MVI C,d8", 2, 7, 0, 0x00},
    {"RRC", 1, 4, 0, 0x01},
    // 0x10
    {"NOP", 1, 4, 0, 0x00},
    {"LXI D,d16", 3, 10, 0, 0x00},
    {"STAX D", 1, 7, 0, 0x00},
    {"INX D", 1, 5, 0, 0x00},
    {"INR D", 1, 5, 0, 0x1e},
    {"DCR D", 1, 5, 0, 0x1e},
    {"MVI D, d8", 2, 7, 0, 0x00},
    {"RAL", 1, 4, 0, 0x01},
    {"NOP", 1, 4, 0, 0x00},
    {"DAD D", 1, 10, 0, 0x01},
    {"LDAX D", 1, 7, 0, 0x00},
    {"DCX D", 1, 5, 0, 0x00},
    {"INR C", 1, 5, 0, 0x1e},
    {"DCR C", 1, 5, 0, 0x1e},
    {"MVI C,d8", 2, 7, 0, 0x00},
    {"RAC", 1, 4, 0, 0x01},
    // 0x20
    {"NOP", 1, 4, 0, 0x00},
    {"LXI H,d16", 3, 10, 0, 0x00},
    {"SHLD a16", 3, 16, 0, 0x00},
    {"INX H", 1, 5, 0, 0x00},
    {"INR H", 1, 5, 0, 0x1e},
    {"DCR H", 1, 5, 0, 0x1e},
    {"MVI H, d8", 2, 7, 0, 0x1f},
    {"DAA", 1, 4, 0, 0x01},
    {"NOP", 1, 4, 0, 0x00},
    {"DAD H", 1, 10, 0, 0x01},
    {"LHLD a16", 3, 16, 0, 0x00},
    {"DCX H", 1, 5, 0, 0x00},
    {"INR L", 1, 5, 0, 0x1e},
    {"DCR L", 1, 5, 0, 0x1e},
    {"MVI L,d8", 2, 7, 0, 0x00},
    {"CMA", 1, 4, 0, 0x00},
    // 0x30
    {"NOP", 1, 4, 0, 0x00},
    {"LXI SP,d16", 3, 10, 0, 0x00},
    {"STA a16", 3, 13, 0, 0x00},
    {"INX SP", 1, 5, 0, 0x00},
    {"INR M", 1, 10, 0, 0x1e},
    {"DCR M", 1, 10, 0, 0x1e},
    {"MVI M, d8", 2, 10, 0, 0x00},
    {"STC", 1, 4, 0, 0x01},
    {"NOP", 1, 4, 0, 0x00},
    {"DAD SP", 1, 10, 0, 0x01},
    {"LDA a16", 3, 13, 0, 0x00},
    {"DCX SP", 1, 5, 0, 0x00},
    {"INR A", 1, 5, 0, 0x1e},
    {"DCR A", 1, 5, 0, 0x1e},
    {"MVI A,d8", 2, 7, 0, 0x00},
    {"CMC", 1, 4, 0, 0x01},
    // 0x40
    {"MOV B,B", 1, 5, 0, 0x00},
    {"MOV B,C", 1, 5, 0, 0x00},
    {"MOV B,D", 1, 5, 0, 0x00},
    {"MOV B,E", 1, 5, 0, 0x00},
    {"MOV B,H", 1, 5, 0, 0x00},
    {"MOV B,L", 1, 5, 0, 0x00},
    {"MOV B,M", 1, 5, 0, 0x00},
    {"MOV B,A", 1, 5, 0, 0x00},

    {"MOV C,B", 1, 5, 0, 0x00},
    {"MOV C,C", 1, 5, 0, 0x00},
    {"MOV C,D", 1, 5, 0, 0x00},
    {"MOV C,E", 1, 5, 0, 0x00},
    {"MOV C,H", 1, 5, 0, 0x00},
    {"MOV C,L", 1, 5, 0, 0x00},
    {"MOV C,M", 1, 5, 0, 0x00},
    {"MOV C,A", 1, 5, 0, 0x00},
    // 0x50
    {"MOV D,B", 1, 5, 0, 0x00},
    {"MOV D,C", 1, 5, 0, 0x00},
    {"MOV D,D", 1, 5, 0, 0x00},
    {"MOV D,E", 1, 5, 0, 0x00},
    {"MOV D,H", 1, 5, 0, 0x00},
    {"MOV D,L", 1, 5, 0, 0x00},
    {"MOV D,M", 1, 5, 0, 0x00},
    {"MOV D,A", 1, 5, 0, 0x00},

    {"MOV E,B", 1, 5, 0, 0x00},
    {"MOV E,C", 1, 5, 0, 0x00},
    {"MOV E,D", 1, 5, 0, 0x00},
    {"MOV E,E", 1, 5, 0, 0x00},
    {"MOV E,H", 1, 5, 0, 0x00},
    {"MOV E,L", 1, 5, 0, 0x00},
    {"MOV E,M", 1, 5, 0, 0x00},
    {"MOV E,A", 1, 5, 0, 0x00},
    // 0x60
    {"MOV H,B", 1, 5, 0, 0x00},
    {"MOV H,C", 1, 5, 0, 0x00},
    {"MOV H,D", 1, 5, 0, 0x00},
    {"MOV H,E", 1, 5, 0, 0x00},
    {"MOV H,H", 1, 5, 0, 0x00},
    {"MOV H,L", 1, 5, 0, 0x00},
    {"MOV H,M", 1, 5, 0, 0x00},
    {"MOV H,A", 1, 5, 0, 0x00},

    {"MOV L,B", 1, 5, 0, 0x00},
    {"MOV L,C", 1, 5, 0, 0x00},
    {"MOV L,D", 1, 5, 0, 0x00},
    {"MOV L,E", 1, 5, 0, 0x00},
    {"MOV L,H", 1, 5, 0, 0x00},
    {"MOV L,L", 1, 5, 0, 0x00},
    {"MOV L,M", 1, 5, 0, 0x00},
    {"MOV L,A", 1, 5, 0, 0x00},
    // 0x70
    {"MOV M,B", 1, 5, 0, 0x00},
    {"MOV M,C", 1, 5, 0, 0x00},
    {"MOV M,D", 1, 5, 0, 0x00},
    {"MOV M,E", 1, 5, 0, 0x00},
    {"MOV M,H", 1, 5, 0, 0x00},
    {"MOV M,L", 1, 5, 0, 0x00},
    {"HLT", 1, 7, 0, 0x00},
    {"MOV M,A", 1, 5, 0, 0x00},

    {"MOV A,B", 1, 5, 0, 0x00},
    {"MOV A,C", 1, 5, 0, 0x00},
    {"MOV A,D", 1, 5, 0, 0x00},
    {"MOV A,E", 1, 5, 0, 0x00},
    {"MOV A,H", 1, 5, 0, 0x00},
    {"MOV A,L", 1, 5, 0, 0x00},
    {"MOV A,M", 1, 5, 0, 0x00},
    {"MOV A,A", 1, 5, 0, 0x00},
    // 0x80
    {"ADD B", 1, 4, 0, 0x1f},
    {"ADD C", 1, 4, 0, 0x1f},
    {"ADD D", 1, 4, 0, 0x1f},
    {"ADD E", 1, 4, 0, 0x1f},
    {"ADD H", 1, 4, 0, 0x1f},
    {"ADD L", 1, 4, 0, 0x1f},
    {"ADD M", 1, 4, 0, 0x1f},
    {"ADD A", 1, 4, 0, 0x1f},

    {"ADC B", 1, 4, 0, 0x1f},
    {"ADC C", 1, 4, 0, 0x1f},
    {"ADC D", 1, 4, 0, 0x1f},
    {"ADC E", 1, 4, 0, 0x1f},
    {"ADC H", 1, 4, 0, 0x1f},
    {"ADC L", 1, 4, 0, 0x1f},
    {"ADC M", 1, 4, 0, 0x1f},
    {"ADC A", 1, 4, 0, 0x1f},
    // 0x90
    {"SUB B", 1, 4, 0, 0x1f},
    {"SUB C", 1, 4, 0, 0x1f},
    {"SUB D", 1, 4, 0, 0x1f},
    {"SUB E", 1, 4, 0, 0x1f},
    {"SUB H", 1, 4, 0, 0x1f},
    {"SUB L", 1, 4, 0, 0x1f},
    {"SUB M", 1, 4, 0, 0x1f},
    {"SUB A", 1, 4, 0, 0x1f},

    {"SBB B", 1, 4, 0, 0x1f},
    {"SBB C", 1, 4, 0, 0x1f},
    {"SBB D", 1, 4, 0, 0x1f},
    {"SBB E", 1, 4, 0, 0x1f},
    {"SBB H", 1, 4, 0, 0x1f},
    {"SBB L", 1, 4, 0, 0x1f},
    {"SBB M", 1, 4, 0, 0x1f},
    {"SBB A", 1, 4, 0, 0x1f},
    // 0xA0
    {"ANA B", 1, 4, 0, 0x1f},
    {"ANA C", 1, 4, 0, 0x1f},
    {"ANA D", 1, 4, 0, 0x1f},
    {"ANA E", 1, 4, 0, 0x1f},
    {"ANA H", 1, 4, 0, 0x1f},
    {"ANA L", 1, 4, 0, 0x1f},
    {"ANA M", 1, 4, 0, 0x1f},
    {"ANA A", 1, 4, 0, 0x1f},

    {"XRA B", 1, 4, 0, 0x1f},
    {"XRA C", 1, 4, 0, 0x1f},
    {"XRA D", 1, 4, 0, 0x1f},
    {"XRA E", 1, 4, 0, 0x1f},
    {"XRA H", 1, 4, 0, 0x1f},
    {"XRA L", 1, 4, 0, 0x1f},
    {"XRA M", 1, 4, 0, 0x1f},
    {"XRA A", 1, 4, 0, 0x1f},
    // 0xB0
    {"ORA B", 1, 4, 0, 0x1f},
    {"ORA C", 1, 4, 0, 0x1f},
    {"ORA D", 1, 4, 0, 0x1f},
    {"ORA E", 1, 4, 0, 0x1f},
    {"ORA H", 1, 4, 0, 0x1f},
    {"ORA L", 1, 4, 0, 0x1f},
    {"ORA M", 1, 4, 0, 0x1f},
    {"ORA A", 1, 4, 0, 0x1f},

    {"CMP B", 1, 4, 0, 0x1f},
    {"CMP C", 1, 4, 0, 0x1f},
    {"CMP D", 1, 4, 0, 0x1f},
    {"CMP E", 1, 4, 0, 0x1f},
    {"CMP H", 1, 4, 0, 0x1f},
    {"CMP L", 1, 4, 0, 0x1f},
    {"CMP M", 1, 4, 0, 0x1f},
    {"CMP A", 1, 4, 0, 0x1f},
    // 0xC0
    {"RNZ", 1, 11, 5, 0x00},
    {"POP B", 1, 10, 0, 0x00},
    {"JNZ a16", 3, 10, 0, 0x00},
    {"JMP a16", 3, 10, 0, 0x00},
    {"CNZ a16", 3, 17, 11, 0x00},
    {"PUSH B", 1, 11, 0, 0x00},
    {"ADI d8", 2, 7, 0, 0x1f},
    {"RST 0", 1, 11, 0, 0x00},
    {"RZ", 1, 11, 5, 0x00},
    {"RET", 1, 10, 0, 0x00},
    {"JZ a16", 3, 10, 0, 0x00},
    {"JMP a16", 3, 10, 0, 0x00},
    {"CZ a16", 3, 17, 11, 0x00},
    {"CALL a16", 3, 17, 0, 0x00},
    {"ACI d8", 2, 7, 0, 0x1f},
    {"RST 1", 1, 11, 0, 0x00},
    // 0xD0
    {"RNC", 1, 11, 5, 0x00},
    {"POP D", 1, 10, 0, 0x00},
    {"JNC a16", 3, 10, 0, 0x00},
    {"OUT d8", 2, 10, 0, 0x00},
    {"CNC a16", 3, 17, 11, 0x00},
    {"PUSH D", 1, 11, 0, 0x00},
    {"SUI d8", 2, 7, 0, 0x1f},
    {"RST 2", 1, 11, 0, 0x00},
    {"RC", 1, 11, 5, 0x00},
    {"RET", 1, 10, 0, 0x00},
    {"JC a16", 3, 10, 0, 0x00},
    {"IN d8", 2, 10, 0, 0x00},
    {"CC a16", 3, 17, 11, 0x00},
    {"CALL a16", 3, 17, 0, 0x00},
    {"SBI d8", 2, 7, 0, 0x1f},
    {"RST 3", 1, 11, 0, 0x00},
    // 0xE0
    {"RPO", 1, 11, 5, 0x00},
    {"POP H", 1, 10, 0, 0x00},
    {"JPO a16", 3, 10, 0, 0x00},
    {"XHTL", 1, 18, 0, 0x00},
    {"CPO a16", 3, 17, 11, 0x00},
    {"PUSH H", 1, 11, 0, 0x00},
    {"ANI d8", 2, 7, 0, 0x1f},
    {"RST 4", 1, 11, 0, 0x00},
    {"RPE", 1, 11, 5, 0x00},
    {"PHCL", 1, 5, 0, 0x00},
    {"JPE a16", 3, 10, 0, 0x00},
    {"XCHG", 1, 5, 0, 0x00},
    {"CPE a16", 3, 17, 11, 0x00},
    {"CALL a16", 3, 17, 0, 0x00},
    {"XRI d8", 2, 7, 0, 0x1f},
    {"RST 5", 1, 11, 0, 0x00},
    // 0xF0
    {"RP", 1, 11, 5, 0x00},
    {"POP PSW", 1, 10, 0, 0x1f},
    {"JP a16", 3, 10, 0, 0x00},
    {"DI", 1, 4, 0, 0x00},
    {"CP a16", 3, 17, 11, 0x00},
    {"PUSH PSW", 1, 11, 0, 0x00},
    {"ORI d8", 2, 7, 0, 0x1f},
    {"RST 6", 1, 11, 0, 0x00},
    {"RM", 1, 11, 5, 0x00},
    {"SPHL", 1, 5, 0, 0x00},
    {"JM a16", 3, 10, 0, 0x00},
    {"EI", 1, 4, 0, 0x00},
    {"CM a16", 3, 17, 11, 0x00},
    {"CALL a16", 3, 17, 0, 0x00},
    {"CPI d8", 2, 7, 0, 0x1f},
    {"RST 7", 1, 11, 0, 0x00}
};


#endif